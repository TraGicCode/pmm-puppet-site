---
version: 5
hierarchy:
  - name: "Jenkins Pipeline Hiera Data Looup"
    hiera3_backend: http
    options:
      :host: jenkins.example.com
      :port: 8080
      :output: json
      :use_auth: true
      :auth_user: jenkins
      :auth_pass: jenkinspass
      :cache_timeout: 10
      :failure: graceful
      :paths:
        - /hiera/lookup?path=%{clientcert}&key=%{key}
        - /hiera/lookup?path=%{environment}&key=%{key}

defaults:
  datadir: "hieradata"
  data_hash: yaml_data
